<html>
<body>

  <h3>Selecting Nodes</h3>
  XPath uses path expressions to select nodes in an XML document. The node is selected by following a path or steps. The most useful path expressions are listed below:
  <table class="reference">
    <tbody>
      <tr>
	  <th width="25%" valign="top" align="left">Expression</th>
      <th valign="top" align="left">Description</th>
      </tr>
      <tr>
	<td valign="top"><i>keyname</i></td>
	<td valign="top">Selects all values with the key "<i>keyname</i>"</td>
      </tr>
      <tr>
	<td valign="top">$</td>
	<td valign="top">Selects VALUES in the document from the current KEY that match the selection no matter where they are </td>
      </tr>
      <tr>
	<td valign="top">$$</td>
	<td valign="top">Selects VALUES in the document for last KEY, respecting parents</td>
      </tr>
      <tr>
	<td valign="top">_LK or _lk</td>
	<td valign="top">List Keys (all of them), like a 'set' not a 'list'</td>
      </tr>
      <tr>
	<td valign="top">_LV or _lv</td>
	<td valign="top">List Values (all of them), like a 'list'</td>
      </tr>
      <tr>
	<td valign="top">_TG or _tg</td>
	<td valign="top">Convert your document To Graph image</td>
      </tr>
    </tbody>
  </table>

  <br/><br/>

  In the table below we have listed some path expressions and the result of the expressions:
  <table class="reference">
    <tbody>
      <tr>
	<th width="25%" valign="top" align="left">Path Expression</th>
	<th valign="top" align="left">Documen Example</th>
	<th valign="top" align="left">Result</th>
      </tr>
      <tr>
	<td valign="top">bookstore</td>
	<td valign="top"> {"bookstore":"amazon"} </td>
	<td valign="top">Selects all VALUES where KEY is "bookstore"</td>
      </tr>
      <tr>
	<td valign="top">$bookstore$book$name</td>
	<td valign="top"> {"bookstore":[{"book":{"name":"jpah"}}]} </td>
	<td valign="top">Selects all name book elements where "book" is children from "bookstore", and "name" is part of "book"</td>
      </tr>
      <tr>
	<td valign="top">bookstore//book</td>
	<td valign="top">Selects all book elements that are descendant of the bookstore element, no matter where they are under the bookstore element</td>
      </tr>
      <tr>
	<td valign="top">//@lang</td>
	<td valign="top">Selects all attributes that are named lang</td>
      </tr>
    </tbody>
  </table>

  <br/><br/>

  <h3>Predicates</h3>
  Predicates are used to find a specific node or a node that contains a specific value.
  Predicates are always embedded in square brackets.
  In the table below we have listed some path expressions with predicates and the result of the expressions:
  <table class="reference">
    <tbody>
      <tr>
	<th width="40%" valign="top" align="left">Path Expression</th>
	<th valign="top" align="left">Result</th>
      </tr>
      <tr>
	<td valign="top">/bookstore/book[1] </td>
	<td valign="top">Selects the first book element that is the child of the 
	  bookstore element.<p><b>Note:</b> IE5 and later has implemented that [0] should be the first node, 
	  but according to the W3C standard it should have been [1]!!</p>
	</td>
      </tr>
      <tr>
	<td valign="top">/bookstore/book[last()]</td>
	<td valign="top">Selects the last book element that is the child of the bookstore element</td>
      </tr>
      <tr>
	<td valign="top">/bookstore/book[last()-1]</td>
	<td valign="top">Selects the last but one book element that is the child of the  bookstore element</td>
      </tr>
      <tr>
	<td valign="top">/bookstore/book[position()&lt;3]</td>
	<td valign="top">Selects the first two book elements that are children of the bookstore element</td>
      </tr>
      <tr>
	<td valign="top">//title[@lang]</td>
	<td valign="top">Selects all the title elements that have an attribute named lang</td>
      </tr>
      <tr>
	<td valign="top">//title[@lang='eng']</td>
	<td valign="top">Selects all the title elements that have an attribute named lang with a value of 'eng'</td>
      </tr>
      <tr>
	<td valign="top">/bookstore/book[price&gt;35.00]</td>
	<td valign="top">Selects all the book elements of the bookstore element that have a price element with a value greater than 35.00</td>
      </tr>
      <tr>
	<td valign="top">/bookstore/book[price&gt;35.00]/title</td>
	<td valign="top">Selects all the title elements of the book elements of the bookstore element that have a price element with a value greater than 35.00</td>
      </tr>
    </tbody>
  </table>

  <br/><br/>

  <h3>Selecting Unknown Nodes</h3>
  XPath wildcards can be used to select unknown XML elements.
  <table class="reference">
    <tbody>
      <tr>
	<th width="25%" valign="top" align="left">Wildcard</th>
	<th valign="top" align="left">Description</th>
      </tr>
      <tr>
	<td valign="top">*</td>
	<td valign="top">Matches any element node</td>
      </tr>
      <tr>
	<td valign="top">@*</td>
	<td valign="top">Matches any attribute node</td>
      </tr>
      <tr>
	<td valign="top">node()</td>
	<td valign="top">Matches any node of any kind</td>
      </tr>
    </tbody>
  </table>

  <br/><br/>

  In the table below we have listed some path expressions and the result of the expressions:
  <table class="reference">
    <tbody>
      <tr>
	<th width="25%" valign="top" align="left">Path Expression</th>
	<th valign="top" align="left">Result</th>
      </tr>
      <tr>
	<td valign="top">/bookstore/*</td>
	<td valign="top">Selects all the child nodes of the bookstore element</td>
      </tr>
      <tr>
	<td valign="top">//*</td>
	<td valign="top">Selects all elements in the document</td>
      </tr>
      <tr>
	<td valign="top">//title[@*]</td>
	<td valign="top">Selects all title elements which have any attribute</td>
      </tr>
    </tbody>
  </table>

  <br/><br/>

  <h3>Selecting Several Paths</h3>
  By using the | operator in an XPath expression you can select several paths.
  In the table below we have listed some path expressions and the result of the expressions:
  <table class="reference">
    <tbody>
      <tr>
	<th width="40%" valign="top" align="left">Path Expression</th>
	<th valign="top" align="left">Result</th>
      </tr>
      <tr>
	<td valign="top">//book/title | //book/price</td>
	<td valign="top">Selects all the title AND price elements of all book elements</td>
      </tr>
      <tr>
	<td valign="top">//title | //price</td>
	<td valign="top">Selects all the title AND price elements in the document</td>
      </tr>
      <tr>
	<td valign="top">/bookstore/book/title | //price</td>
	<td valign="top">Selects all the title elements of the book element of the bookstore element AND all the price elements in the document</td>
      </tr>
    </tbody>
  </table>

</body>
</html>